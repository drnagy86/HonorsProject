version: '3.0' # specify docker-compose version

# Define the services/ containers to be run
services:

    angular:
      build: /app_public/rubricMaker
      ports:
        - "4200:4200" # specify port mapping
#      restart: always

    express:
      build: ../HonorsProject
      ports:
        - "3000:3000" #specify ports mapping
      links:
        - mongo # link this service to the database service
#      restart: always
#      depends_on:
#        - mongo

    mongo:
      image: mongo:4.2
      ports:
        - "27017:27017" # specify port forwarding
      volumes:
        - ./mongo:/data/db
#      restart: always


#version: '3' # specify docker-compose version
#
## Define the services/containers to be run
#services:
#  client:
#    build: /app_public/rubricMaker
#    ports:
#      - "80:4200"
#  server: # name of the first service
#    build: ../HonorsProject
#    ports:
#      - "3000:3000"
#    environment:
#      - MONGO_URL=mongodb://database/mean-app
#    links:
#      - database
#    depends_on:
#      - database
#  database: # name of the third service
#    image: mongo # specify image to build container from
#    volumes:
#      - "/data/db:/data/db"
#    ports:
#      - "27017:27017"